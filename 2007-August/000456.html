<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [gpodder-devel] Wrong length again
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpodder-devel/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:gpodder-devel%40lists.berlios.de?Subject=Re%3A%20%5Bgpodder-devel%5D%20Wrong%20length%20again&In-Reply-To=%3C1186511252.5413.17.camel%40macbook%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000455.html">
   <LINK REL="Next"  HREF="000462.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gpodder-devel] Wrong length again</H1>
    <B>Thomas Perl</B> 
    <A HREF="mailto:gpodder-devel%40lists.berlios.de?Subject=Re%3A%20%5Bgpodder-devel%5D%20Wrong%20length%20again&In-Reply-To=%3C1186511252.5413.17.camel%40macbook%3E"
       TITLE="[gpodder-devel] Wrong length again">thp at perli.net
       </A><BR>
    <I>Tue Aug  7 20:27:32 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000455.html">[gpodder-devel] Wrong length again
</A></li>
        <LI>Next message: <A HREF="000462.html">[gpodder-devel] Wrong length again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#456">[ date ]</a>
              <a href="thread.html#456">[ thread ]</a>
              <a href="subject.html#456">[ subject ]</a>
              <a href="author.html#456">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, Nick and G&#246;tz!

On Mon, 2007-08-06 at 22:59 -0400, nikosapi wrote:
&gt;<i> On August 6, 2007 15:01:17 Thomas Perl wrote:
</I>&gt;<i> &gt; On Mon, 2007-08-06 at 20:30 +0200, G&#246;tz Waschk wrote:
</I>&gt;<i> &gt; detection have previously been because of enhanced AAC files. Does libmad
</I>&gt;<i> &gt; always provide the correct length for MP3 files? If so, maybe using libmad
</I>&gt;<i> &gt; for MP3 files and mplayer for everything else would fix your problem?
</I>&gt;<i> 
</I>&gt;<i> Ok, here's the promissed patch :)
</I>&gt;<i> 
</I>&gt;<i> If mplayer is available, it will use it for all media files. If the file is an 
</I>&gt;<i> mp3 and pymad is installed it will get the length reported by pymad and 
</I>&gt;<i> compare it to the length from mplayer and use the longer of the two (this 
</I>&gt;<i> works great btw). And of course, worst case eyed3 is still available if all 
</I>&gt;<i> else fails.
</I>
I've revisited your patch for the latest SVN trunk head (I've done some
restructuring of the code during the weekend, because I want to clean up the 
codebase a bit to get ready for the &quot;gPodder API&quot; ;).

Maybe we should try out all possible ways to detect the file length (including
eyed3) and use the maximum reported time? Or just leave it as it is currently
(default to mplayer, if pymad is here, try and use it if length is bigger, and 
if none of the above is available/working, try eyed3). What do you think?

&gt;<i> Oh and btw, about Cory Doctorow's podcasts. The mp3s are borked, all the media 
</I>&gt;<i> players I tried them with gave different play times. Pymad gets close to the 
</I>&gt;<i> right time but is off by ~10sec. Email Cory and tell him to use a better mp3 
</I>&gt;<i> encoder (he still reads all his emails right?).
</I>
I think we're way too cool to support even broken podcasts, hehe :) I'm
glad we have motivated contributors and bug reporters that help us make
gPodder so great in this respect (file length detection is quite
sophisticated already, and as we saw, &quot;valid&quot; MP3 files are not always
the reality in the cruel, dark podcast world :).


Thomas

-------------- next part --------------
A non-text attachment was scrubbed...
Name: gpodder_r363_length-fix.patch
Type: text/x-patch
Size: 3063 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/gpodder-devel/attachments/20070807/83c3426d/attachment.bin">https://lists.berlios.de/pipermail/gpodder-devel/attachments/20070807/83c3426d/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000455.html">[gpodder-devel] Wrong length again
</A></li>
	<LI>Next message: <A HREF="000462.html">[gpodder-devel] Wrong length again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#456">[ date ]</a>
              <a href="thread.html#456">[ thread ]</a>
              <a href="subject.html#456">[ subject ]</a>
              <a href="author.html#456">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpodder-devel">More information about the gpodder-devel
mailing list</a><br>
</body></html>
