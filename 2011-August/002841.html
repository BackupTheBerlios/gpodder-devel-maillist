<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [gpodder-devel] Woodchuck patches: Interface to register...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpodder-devel/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:gpodder-devel%40lists.berlios.de?Subject=Re%3A%20%5Bgpodder-devel%5D%20Woodchuck%20patches%3A%20Interface%20to%20register...&In-Reply-To=%3C87sjplw3wx.wl%25neal%40walfield.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002840.html">
   <LINK REL="Next"  HREF="002842.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[gpodder-devel] Woodchuck patches: Interface to register...</H1>
    <B>Neal H. Walfield</B> 
    <A HREF="mailto:gpodder-devel%40lists.berlios.de?Subject=Re%3A%20%5Bgpodder-devel%5D%20Woodchuck%20patches%3A%20Interface%20to%20register...&In-Reply-To=%3C87sjplw3wx.wl%25neal%40walfield.org%3E"
       TITLE="[gpodder-devel] Woodchuck patches: Interface to register...">neal at walfield.org
       </A><BR>
    <I>Mon Aug  1 17:24:30 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002840.html">[gpodder-devel] Woodchuck patches: Add more hooks
</A></li>
        <LI>Next message: <A HREF="002842.html">[gpodder-devel] Woodchuck patches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2841">[ date ]</a>
              <a href="thread.html#2841">[ thread ]</a>
              <a href="subject.html#2841">[ subject ]</a>
              <a href="author.html#2841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At Mon, 1 Aug 2011 11:39:24 +0200,
Thomas Perl wrote:
&gt;<i> * 2f2c52d13a0a77aec873b5be2717dda6fab2a064 (Interface to register...)
</I>&gt;<i> 
</I>&gt;<i>   If you enable the HookManager unconditionally, we should probably
</I>&gt;<i>   remove the &quot;if gpodder.user_hooks is not None&quot; conditions throughout
</I>&gt;<i>   the code. In this case, we have to make sure that all frontends use
</I>&gt;<i>   the &quot;Core&quot; class, but that's probably a good idea anyway (especially
</I>&gt;<i>   since the core class does not depend on many things, and just provides
</I>&gt;<i>   the DB and configuration)
</I>
This is reasonable.

&gt;<i>   Some other thing: Why do you need the register_hooks() method?
</I>&gt;<i>   Wouldn't a hook script in the hooks folder provide the registration
</I>&gt;<i>   automatically with the current setup?
</I>
Your observation that any file in the $GPODDERHOME/Hooks directory
will be loaded automatically is correct.  My motivation for enabling
this by default and adding a registration method is two fold:
including Woodchuck in the gPodder distribution; and, providing a
feedback channel so that the frontend can refresh the display when,
e.g., Woodchuck modifies the database.

First, I envision that the woodchuck module will be included in the
default gPodder installation.  The current version of the patch
detects if a Woodchuck server is running and if not disables the
Woodchuck functionality, i.e., the Woodchuck module imposes a soft
dependency.

Second, Woodchuck interacts with model.py.  For instance, it triggers
channel updates and downloads episodes.  Currently, the only way that
model.py can notify the frontend of changes is the set of hooks.  I'm
planning on modifying the frontend so that when Woodchuck updates a
channel, the frontend can refresh the channel.  Currently, the user
has to change channels to see any updates.

Thoughts?


Thanks,

Neal



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002840.html">[gpodder-devel] Woodchuck patches: Add more hooks
</A></li>
	<LI>Next message: <A HREF="002842.html">[gpodder-devel] Woodchuck patches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2841">[ date ]</a>
              <a href="thread.html#2841">[ thread ]</a>
              <a href="subject.html#2841">[ subject ]</a>
              <a href="author.html#2841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpodder-devel">More information about the gpodder-devel
mailing list</a><br>
</body></html>
